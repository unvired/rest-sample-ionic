{"version":3,"sources":["./src/app/login/login.page.html","./src/app/login/login-routing.module.ts","./src/app/login/login.module.ts","./src/app/login/login.page.scss","./src/app/login/login.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,q1B;;;;;;;;;;;;;;;;;;;ACA0B;AACc;AAEd;AAEzC,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,qDAAS;KACrB;CACF,CAAC;AAMF,IAAa,sBAAsB,GAAnC,MAAa,sBAAsB;CAAG;AAAzB,sBAAsB;IAJlC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,sBAAsB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBM;AACM;AACF;AAEA;AAEmB;AAEvB;AAWzC,IAAa,eAAe,GAA5B,MAAa,eAAe;CAAG;AAAlB,eAAe;IAT3B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,4EAAsB;SACvB;QACD,YAAY,EAAE,CAAC,qDAAS,CAAC;KAC1B,CAAC;GACW,eAAe,CAAG;AAAH;;;;;;;;;;;;;ACnB5B;AAAe,4EAAa,cAAc,2BAA2B,GAAG,eAAe,uBAAuB,mBAAmB,qBAAqB,oBAAoB,sBAAsB,GAAG,gBAAgB,0BAA0B,0BAA0B,2BAA2B,2BAA2B,iBAAiB,qBAAqB,GAAG,eAAe,gBAAgB,iBAAiB,4BAA4B,wBAAwB,uBAAuB,0BAA0B,oBAAoB,uBAAuB,oBAAoB,mBAAmB,GAAG,6CAA6C,muE;;;;;;;;;;;;;;;;;;;;ACA3kB;AACT;AAC2B;AAEqE;AAOzI,IAAa,SAAS,GAAtB,MAAa,SAAS;IASpB,YAAmB,MAAc,EACd,SAA0B,EACzB,OAA0B,EAC1B,iBAAoC;QAHrC,WAAM,GAAN,MAAM,CAAQ;QACd,cAAS,GAAT,SAAS,CAAiB;QACzB,YAAO,GAAP,OAAO,CAAmB;QAC1B,sBAAiB,GAAjB,iBAAiB,CAAmB;QAVxD,qBAAgB,GAAG,KAAK,CAAC;QACzB,QAAG,GAAG,iCAAiC,CAAC;QACxC,YAAO,GAAG,EAAE,CAAC;QACb,aAAQ,GAAG,EAAE,CAAC;QACd,aAAQ,GAAG,EAAE,CAAC;QAOZ,IAAI,CAAC,uBAAuB,GAAG,IAAI,CAAC,MAAM,CAAC,oBAAoB,EAAE,CAAC,MAAM,CAAC,WAAW,CAAC,uBAAuB,CAAC;IAC/G,CAAC;IAED,QAAQ;IACR,CAAC;IAED,cAAc;QACZ,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;IACtC,CAAC;IAED,KAAK;QACH,IAAI,CAAC,IAAI,CAAC,uBAAuB,EAAE;YACjC,IAAI,CAAC,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;gBAC7C,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,YAAY,CAAC,CAAC;aAClC;YAED,IAAI,CAAC,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;gBACrD,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,gBAAgB,CAAC,CAAC;gBACrC,OAAO;aACR;SACF;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;YACvD,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,iBAAiB,CAAC,CAAC;YACtC,OAAO;SACR;QAED,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,CAAC,MAAM,KAAK,CAAC,EAAE;YACvD,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,iBAAiB,CAAC,CAAC;YACtC,OAAO;SACR;QACD,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAEK,QAAQ;;YACZ,MAAM,eAAe,GAAG,IAAI,qFAAe,EAAE,CAAC;YAC9C,eAAe,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;YAC/B,eAAe,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;YACvC,eAAe,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACzC,eAAe,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;YACzC,eAAe,CAAC,SAAS,GAAG,+EAAS,CAAC,OAAO,CAAC;YAC9C,QAAQ,IAAI,CAAC,uBAAuB,EAAE;gBACpC,KAAK,uFAAiB,CAAC,wBAAwB;oBAC7C,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,2CAA2C;oBAC3C,MAAM,0BAA0B,GAA+B,MAAM,IAAI,CAAC,iBAAiB,CAAC,uBAAuB,CAAC,eAAe,CAAC,CAAC;oBACrI,IAAI,0BAA0B,CAAC,IAAI,KAAK,uGAAiC,CAAC,uBAAuB,EAAE;wBACjG,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,yBAAyB,CAAC,CAAC;wBAC9C,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;qBAChC;yBAAM,IAAI,0BAA0B,CAAC,IAAI,KAAK,uGAAiC,CAAC,qBAAqB,EAAE;wBACtG,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,OAAO,CAAC,GAAG,CAAC,qBAAqB,GAAG,0BAA0B,CAAC,KAAK,CAAC,CAAC;wBACtE,IAAI,CAAC,SAAS,CAAC,qBAAqB,EAAE,0BAA0B,CAAC,KAAK,CAAC,CAAC;qBACzE;oBACD,MAAM;gBACR,KAAK,uFAAiB,CAAC,kBAAkB;oBACvC,IAAI,CAAC,WAAW,EAAE,CAAC;oBACnB,MAAM,uBAAuB,GAA4B,MAAM,IAAI,CAAC,iBAAiB,CAAC,iBAAiB,CAAC,eAAe,CAAC,CAAC;oBACzH,IAAI,uBAAuB,CAAC,IAAI,KAAK,iGAA2B,CAAC,aAAa,EAAE;wBAC9E,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,sCAAsC,CAAC,CAAC;wBAC3D,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;qBAChC;yBAAM,IAAI,uBAAuB,CAAC,IAAI,KAAK,iGAA2B,CAAC,WAAW,EAAE;wBACnF,IAAI,CAAC,cAAc,EAAE,CAAC;wBACtB,IAAI,CAAC,SAAS,CAAC,EAAE,EAAE,uBAAuB,CAAC,KAAK,CAAC,CAAC;wBAClD,OAAO,CAAC,GAAG,CAAC,4BAA4B,GAAG,uBAAuB,CAAC,KAAK,CAAC,CAAC;qBAC3E;oBACD,MAAM;gBACR,KAAK,uFAAiB,CAAC,aAAa;oBAClC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;oBAChC,MAAM;aACT;QACH,CAAC;KAAA;IAEK,WAAW;;YACf,IAAI,CAAC,IAAI,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;gBACpC,OAAO,EAAE,gBAAgB;gBACzB,OAAO,EAAE,SAAS;aACnB,CAAC,CAAC;YACH,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QAC5B,CAAC;KAAA;IAEK,cAAc;;YAClB,UAAU,CAAC,GAAG,EAAE;gBACd,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;YACtB,CAAC,EAAE,IAAI,CAAC,CAAC;QACX,CAAC;KAAA;IAEK,SAAS,CAAC,KAAa,EAAE,OAAe;;YAC5C,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC;gBACxC,MAAM,EAAE,KAAK;gBACb,SAAS,EAAE,OAAO;gBAClB,OAAO,EAAE,CAAC;wBACR,IAAI,EAAE,IAAI;qBACX,CAAC;aACH,CAAC,CAAC;YACH,KAAK,CAAC,OAAO,EAAE,CAAC;QAClB,CAAC;KAAA;CACF;;YAvG4B,sDAAM;YACH,8DAAe;YAChB,gEAAiB;YACP,uFAAiB;;AAZ7C,SAAS;IALrB,+DAAS,CAAC;QACT,QAAQ,EAAE,WAAW;QACrB,yMAAgC;;KAEjC,CAAC;2EAU2B,sDAAM;QACH,8DAAe;QAChB,gEAAiB;QACP,uFAAiB;GAZ7C,SAAS,CAgHrB;AAhHqB","file":"login-login-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"outer-div\\\">\\n    <ion-title class=\\\"app-name\\\">Unvired-REST-Sample</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"outer-div\\\" class=\\\"ion-padding\\\">\\n  <ion-list>\\n    <ion-input *ngIf=\\\"!isAuthenticationSuccess\\\" type=\\\"text\\\" [(ngModel)]=\\\"url\\\" autocapitalize=\\\"off\\\"></ion-input>\\n    <ion-input *ngIf=\\\"!isAuthenticationSuccess\\\" type=\\\"text\\\" placeholder=\\\"company\\\" [(ngModel)]=\\\"company\\\"></ion-input>\\n    <ion-input type=\\\"text\\\" placeholder=\\\"Username\\\" [(ngModel)]=\\\"username\\\" autocapitalize=\\\"off\\\"></ion-input>\\n    <ion-input type=\\\"password\\\" placeholder=\\\"Password\\\" [(ngModel)]=\\\"password\\\"></ion-input>\\n    <ion-button (click)=\\\"login()\\\" expand=\\\"block\\\">Login</ion-button>\\n  </ion-list>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \".outer-div {\\n  margin: 0;\\n  width: 100% !important;\\n}\\n\\n.app-name {\\n  text-align: center;\\n  color: #2D5F8A;\\n  text-align: left;\\n  font-size: 17px;\\n  font-weight: bold;\\n}\\n\\nion-button {\\n  --background: #2D5F8A;\\n  --border-width: 0.9px;\\n  --border-radius: 8.0px;\\n  --border-color:#D2D7D3;\\n  height: 45px;\\n  margin-top: 10px;\\n}\\n\\nion-input {\\n  width: 100%;\\n  height: 45px;\\n  border: solid 1px black;\\n  border-width: 0.9px;\\n  border-radius: 8px;\\n  border-color: #D2D7D3;\\n  margin-top: 5px;\\n  margin-bottom: 5px;\\n  font-size: 17px;\\n  padding: 0.5em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZpdGhyYS9yZXN0LXNhbXBsZS1pb25pYy9zcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksU0FBQTtFQUNBLHNCQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0kscUJBQUE7RUFDQSxxQkFBQTtFQUNBLHNCQUFBO0VBQ0Esc0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm91dGVyLWRpdiB7XG4gICAgbWFyZ2luOjA7XG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn1cblxuLmFwcC1uYW1lIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgY29sb3I6ICMyRDVGOEE7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICBmb250LXNpemU6IDE3cHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmlvbi1idXR0b24ge1xuICAgIC0tYmFja2dyb3VuZDogIzJENUY4QTtcbiAgICAtLWJvcmRlci13aWR0aDogMC45cHg7XG4gICAgLS1ib3JkZXItcmFkaXVzOiA4LjBweDtcbiAgICAtLWJvcmRlci1jb2xvcjojRDJEN0QzO1xuICAgIGhlaWdodDogNDVweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG5pb24taW5wdXQge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNDVweDtcbiAgICBib3JkZXI6IHNvbGlkIDFweCBibGFjaztcbiAgICBib3JkZXItd2lkdGg6IDAuOXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDguMHB4O1xuICAgIGJvcmRlci1jb2xvcjogI0QyRDdEMztcbiAgICBtYXJnaW4tdG9wOiA1cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgIGZvbnQtc2l6ZTogMTdweDtcbiAgICBwYWRkaW5nOi41ZW07XG59XG4iLCIub3V0ZXItZGl2IHtcbiAgbWFyZ2luOiAwO1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xufVxuXG4uYXBwLW5hbWUge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjMkQ1RjhBO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBmb250LXNpemU6IDE3cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG5pb24tYnV0dG9uIHtcbiAgLS1iYWNrZ3JvdW5kOiAjMkQ1RjhBO1xuICAtLWJvcmRlci13aWR0aDogMC45cHg7XG4gIC0tYm9yZGVyLXJhZGl1czogOC4wcHg7XG4gIC0tYm9yZGVyLWNvbG9yOiNEMkQ3RDM7XG4gIGhlaWdodDogNDVweDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cblxuaW9uLWlucHV0IHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNDVweDtcbiAgYm9yZGVyOiBzb2xpZCAxcHggYmxhY2s7XG4gIGJvcmRlci13aWR0aDogMC45cHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm9yZGVyLWNvbG9yOiAjRDJEN0QzO1xuICBtYXJnaW4tdG9wOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgZm9udC1zaXplOiAxN3B4O1xuICBwYWRkaW5nOiAwLjVlbTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { LoginParameters, UnviredCordovaSDK, LoginListenerType, AuthenticateActivateResult, LoginType,\n  AuthenticateAndActivateResultType, AuthenticateLocalResult, AuthenticateLocalResultType } from '@ionic-native/unvired-cordova-sdk/ngx';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  isAuthenticationSuccess: LoginListenerType;\n  isHasPermissions = false;\n  url = 'https://sandbox.unvired.io/UMP/';\n  company = '';\n  username = '';\n  password = '';\n  load: HTMLIonLoadingElement;\n\n  constructor(public router: Router,\n              public alertCtrl: AlertController,\n              private loading: LoadingController,\n              private unviredCordovaSdk: UnviredCordovaSDK) {\n    this.isAuthenticationSuccess = this.router.getCurrentNavigation().extras.queryParams.isAuthenticationSuccess;\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad Login');\n  }\n\n  login() {\n    if (!this.isAuthenticationSuccess) {\n      if (!this.url || this.url.trim().length === 0) {\n        this.showAlert('', 'Enter Url.');\n      }\n\n      if (!this.company || this.company.trim().length === 0) {\n        this.showAlert('', 'Enter Company.');\n        return;\n      }\n    }\n\n    if (!this.username || this.username.trim().length === 0) {\n      this.showAlert('', 'Enter Username.');\n      return;\n    }\n\n    if (!this.password || this.password.trim().length === 0) {\n      this.showAlert('', 'Enter Password.');\n      return;\n    }\n    this.umpLogin();\n  }\n\n  async umpLogin() {\n    const loginParameters = new LoginParameters();\n    loginParameters.url = this.url;\n    loginParameters.company = this.company;\n    loginParameters.username = this.username;\n    loginParameters.password = this.password;\n    loginParameters.loginType = LoginType.unvired;\n    switch (this.isAuthenticationSuccess) {\n      case LoginListenerType.auth_activation_required:\n        this.showLaoding();\n        // tslint:disable-next-line:max-line-length\n        const authenticateActivateResult: AuthenticateActivateResult = await this.unviredCordovaSdk.authenticateAndActivate(loginParameters);\n        if (authenticateActivateResult.type === AuthenticateAndActivateResultType.auth_activation_success) {\n          this.dismissLoading();\n          this.showAlert('', 'Successfully registered');\n          this.router.navigate(['home']);\n        } else if (authenticateActivateResult.type === AuthenticateAndActivateResultType.auth_activation_error) {\n          this.dismissLoading();\n          console.log('Error during login:' + authenticateActivateResult.error);\n          this.showAlert('Error during login:', authenticateActivateResult.error);\n        }\n        break;\n      case LoginListenerType.app_requires_login:\n        this.showLaoding();\n        const authenticateLocalResult: AuthenticateLocalResult = await this.unviredCordovaSdk.authenticateLocal(loginParameters);\n        if (authenticateLocalResult.type === AuthenticateLocalResultType.login_success) {\n          this.dismissLoading();\n          this.showAlert('', 'Local Password verified Successfully');\n          this.router.navigate(['home']);\n        } else if (authenticateLocalResult.type === AuthenticateLocalResultType.login_error) {\n          this.dismissLoading();\n          this.showAlert('', authenticateLocalResult.error);\n          console.log('Error during local login: ' + authenticateLocalResult.error);\n        }\n        break;\n      case LoginListenerType.login_success:\n        this.router.navigate(['/home']);\n        break;\n    }\n  }\n\n  async showLaoding() {\n    this.load = await this.loading.create({\n      message: 'Please wait...',\n      spinner: 'circles'\n    });\n    await this.load.present();\n  }\n\n  async dismissLoading() {\n    setTimeout(() => {\n      this.load.dismiss();\n    }, 2000);\n  }\n\n  async showAlert(title: string, message: string) {\n    const alert = await this.alertCtrl.create({\n      header: title,\n      subHeader: message,\n      buttons: [{\n        text: 'Ok'\n      }],\n    });\n    alert.present();\n  }\n}\n"],"sourceRoot":"webpack:///"}