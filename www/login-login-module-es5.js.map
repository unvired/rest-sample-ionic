{"version":3,"sources":["src/app/login/login.page.html","src/app/login/login-routing.module.ts","src/app/login/login.module.ts","src/app/login/login.page.scss","src/app/login/login.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar class=\\\"outer-div\\\">\\n    <ion-title class=\\\"app-name\\\">Unvired-REST-Sample</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"outer-div\\\" class=\\\"ion-padding\\\">\\n  <ion-list>\\n    <ion-input *ngIf=\\\"!isAuthenticationSuccess\\\" type=\\\"text\\\" [(ngModel)]=\\\"url\\\" autocapitalize=\\\"off\\\"></ion-input>\\n    <ion-input *ngIf=\\\"!isAuthenticationSuccess\\\" type=\\\"text\\\" placeholder=\\\"company\\\" [(ngModel)]=\\\"company\\\"></ion-input>\\n    <ion-input type=\\\"text\\\" placeholder=\\\"Username\\\" [(ngModel)]=\\\"username\\\" autocapitalize=\\\"off\\\"></ion-input>\\n    <ion-input type=\\\"password\\\" placeholder=\\\"Password\\\" [(ngModel)]=\\\"password\\\"></ion-input>\\n    <ion-button (click)=\\\"login()\\\" expand=\\\"block\\\">Login</ion-button>\\n  </ion-list>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \".outer-div {\\n  margin: 0;\\n  width: 100% !important;\\n}\\n\\n.app-name {\\n  text-align: center;\\n  color: #2D5F8A;\\n  text-align: left;\\n  font-size: 17px;\\n  font-weight: bold;\\n}\\n\\nion-button {\\n  --background: #2D5F8A;\\n  --border-width: 0.9px;\\n  --border-radius: 8.0px;\\n  --border-color:#D2D7D3;\\n  height: 45px;\\n  margin-top: 10px;\\n}\\n\\nion-input {\\n  width: 100%;\\n  height: 45px;\\n  border: solid 1px black;\\n  border-width: 0.9px;\\n  border-radius: 8px;\\n  border-color: #D2D7D3;\\n  margin-top: 5px;\\n  margin-bottom: 5px;\\n  font-size: 17px;\\n  padding: 0.5em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9wYXZpdGhyYS9yZXN0LXNhbXBsZS1pb25pYy9zcmMvYXBwL2xvZ2luL2xvZ2luLnBhZ2Uuc2NzcyIsInNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksU0FBQTtFQUNBLHNCQUFBO0FDQ0o7O0FERUE7RUFDSSxrQkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtFQUNBLGVBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0kscUJBQUE7RUFDQSxxQkFBQTtFQUNBLHNCQUFBO0VBQ0Esc0JBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsdUJBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EscUJBQUE7RUFDQSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxlQUFBO0VBQ0EsY0FBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvbG9naW4vbG9naW4ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm91dGVyLWRpdiB7XG4gICAgbWFyZ2luOjA7XG4gICAgd2lkdGg6IDEwMCUgIWltcG9ydGFudDtcbn1cblxuLmFwcC1uYW1lIHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgY29sb3I6ICMyRDVGOEE7XG4gICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICBmb250LXNpemU6IDE3cHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbmlvbi1idXR0b24ge1xuICAgIC0tYmFja2dyb3VuZDogIzJENUY4QTtcbiAgICAtLWJvcmRlci13aWR0aDogMC45cHg7XG4gICAgLS1ib3JkZXItcmFkaXVzOiA4LjBweDtcbiAgICAtLWJvcmRlci1jb2xvcjojRDJEN0QzO1xuICAgIGhlaWdodDogNDVweDtcbiAgICBtYXJnaW4tdG9wOiAxMHB4O1xufVxuXG5pb24taW5wdXQge1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogNDVweDtcbiAgICBib3JkZXI6IHNvbGlkIDFweCBibGFjaztcbiAgICBib3JkZXItd2lkdGg6IDAuOXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDguMHB4O1xuICAgIGJvcmRlci1jb2xvcjogI0QyRDdEMztcbiAgICBtYXJnaW4tdG9wOiA1cHg7XG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xuICAgIGZvbnQtc2l6ZTogMTdweDtcbiAgICBwYWRkaW5nOi41ZW07XG59XG4iLCIub3V0ZXItZGl2IHtcbiAgbWFyZ2luOiAwO1xuICB3aWR0aDogMTAwJSAhaW1wb3J0YW50O1xufVxuXG4uYXBwLW5hbWUge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjMkQ1RjhBO1xuICB0ZXh0LWFsaWduOiBsZWZ0O1xuICBmb250LXNpemU6IDE3cHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG5pb24tYnV0dG9uIHtcbiAgLS1iYWNrZ3JvdW5kOiAjMkQ1RjhBO1xuICAtLWJvcmRlci13aWR0aDogMC45cHg7XG4gIC0tYm9yZGVyLXJhZGl1czogOC4wcHg7XG4gIC0tYm9yZGVyLWNvbG9yOiNEMkQ3RDM7XG4gIGhlaWdodDogNDVweDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbn1cblxuaW9uLWlucHV0IHtcbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogNDVweDtcbiAgYm9yZGVyOiBzb2xpZCAxcHggYmxhY2s7XG4gIGJvcmRlci13aWR0aDogMC45cHg7XG4gIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgYm9yZGVyLWNvbG9yOiAjRDJEN0QzO1xuICBtYXJnaW4tdG9wOiA1cHg7XG4gIG1hcmdpbi1ib3R0b206IDVweDtcbiAgZm9udC1zaXplOiAxN3B4O1xuICBwYWRkaW5nOiAwLjVlbTtcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { LoginParameters, UnviredCordovaSDK, LoginListenerType, AuthenticateActivateResult, LoginType,\n  AuthenticateAndActivateResultType, AuthenticateLocalResult, AuthenticateLocalResultType } from '@ionic-native/unvired-cordova-sdk/ngx';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.page.html',\n  styleUrls: ['./login.page.scss'],\n})\nexport class LoginPage implements OnInit {\n  isAuthenticationSuccess: LoginListenerType;\n  isHasPermissions = false;\n  url = 'https://sandbox.unvired.io/UMP/';\n  company = '';\n  username = '';\n  password = '';\n  load: HTMLIonLoadingElement;\n\n  constructor(public router: Router,\n              public alertCtrl: AlertController,\n              private loading: LoadingController,\n              private unviredCordovaSdk: UnviredCordovaSDK) {\n    this.isAuthenticationSuccess = this.router.getCurrentNavigation().extras.queryParams.isAuthenticationSuccess;\n  }\n\n  ngOnInit() {\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad Login');\n  }\n\n  login() {\n    if (!this.isAuthenticationSuccess) {\n      if (!this.url || this.url.trim().length === 0) {\n        this.showAlert('', 'Enter Url.');\n      }\n\n      if (!this.company || this.company.trim().length === 0) {\n        this.showAlert('', 'Enter Company.');\n        return;\n      }\n    }\n\n    if (!this.username || this.username.trim().length === 0) {\n      this.showAlert('', 'Enter Username.');\n      return;\n    }\n\n    if (!this.password || this.password.trim().length === 0) {\n      this.showAlert('', 'Enter Password.');\n      return;\n    }\n    this.umpLogin();\n  }\n\n  async umpLogin() {\n    const loginParameters = new LoginParameters();\n    loginParameters.url = this.url;\n    loginParameters.company = this.company;\n    loginParameters.username = this.username;\n    loginParameters.password = this.password;\n    loginParameters.loginType = LoginType.unvired;\n    switch (this.isAuthenticationSuccess) {\n      case LoginListenerType.auth_activation_required:\n        this.showLaoding();\n        // tslint:disable-next-line:max-line-length\n        const authenticateActivateResult: AuthenticateActivateResult = await this.unviredCordovaSdk.authenticateAndActivate(loginParameters);\n        if (authenticateActivateResult.type === AuthenticateAndActivateResultType.auth_activation_success) {\n          this.dismissLoading();\n          this.showAlert('', 'Successfully registered');\n          this.router.navigate(['home']);\n        } else if (authenticateActivateResult.type === AuthenticateAndActivateResultType.auth_activation_error) {\n          this.dismissLoading();\n          console.log('Error during login:' + authenticateActivateResult.error);\n          this.showAlert('Error during login:', authenticateActivateResult.error);\n        }\n        break;\n      case LoginListenerType.app_requires_login:\n        this.showLaoding();\n        const authenticateLocalResult: AuthenticateLocalResult = await this.unviredCordovaSdk.authenticateLocal(loginParameters);\n        if (authenticateLocalResult.type === AuthenticateLocalResultType.login_success) {\n          this.dismissLoading();\n          this.showAlert('', 'Local Password verified Successfully');\n          this.router.navigate(['home']);\n        } else if (authenticateLocalResult.type === AuthenticateLocalResultType.login_error) {\n          this.dismissLoading();\n          this.showAlert('', authenticateLocalResult.error);\n          console.log('Error during local login: ' + authenticateLocalResult.error);\n        }\n        break;\n      case LoginListenerType.login_success:\n        this.router.navigate(['/home']);\n        break;\n    }\n  }\n\n  async showLaoding() {\n    this.load = await this.loading.create({\n      message: 'Please wait...',\n      spinner: 'circles'\n    });\n    await this.load.present();\n  }\n\n  async dismissLoading() {\n    setTimeout(() => {\n      this.load.dismiss();\n    }, 2000);\n  }\n\n  async showAlert(title: string, message: string) {\n    const alert = await this.alertCtrl.create({\n      header: title,\n      subHeader: message,\n      buttons: [{\n        text: 'Ok'\n      }],\n    });\n    alert.present();\n  }\n}\n"],"sourceRoot":"webpack:///","file":"login-login-module-es5.js"}